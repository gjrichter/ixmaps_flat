<!DOCTYPE HTML>
<html>

<head>
    <title>IXMAPS embed</title>
    <meta name="Author" content="Guenter Richter" />
    <meta name="Keywords" content="map SVG HTML5 Javascript maps interactive charts ixmaps" />
    <meta name="Description" content="core html page for ixmaps SVG interactive map applications in overlay on leaflet basemaps" />

    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />

    <!-- IE Fix for HTML5 Tags -->
    <!--[if lt IE 9]>
    <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!--========================================================================= 
	  we need scripting
	<!--========================================================================= -->

    <noscript>
        <div style="position:absolute;top:100px;left:100px;width:500px">
            <b>JavaScript must be enabled in order for you to use iXMaps.</b>
            <br>
            <br> However, it seems JavaScript is either disabled or not supported by your browser. To view the map application, enable
            JavaScript by changing your browser options, and then try again.
        </div>
    </noscript>

    <!--========================================================================= -->

    <link rel="shortcut icon" href="../resources/images/ixmaps_logo.png" />

    <link rel="stylesheet" type="text/css" href="../../ui/libs/leaflet-1.3.4/leaflet.css" />

    <link rel="stylesheet" type="text/css" href="../../ui/html/assets/css/icomoon.css" />
    <link rel="stylesheet" type="text/css" href="../../ui/html/assets/css/font-awesome.min.css">
    <link rel="stylesheet" type="text/css" href="../../ui/libs/jquery/ui/css/smoothness/jquery-ui-1.8.16.custom.css" />
    <link rel="stylesheet" type="text/css" href="../css/jquery-ui.css" />
    <link rel="stylesheet" type="text/css" href="../css/custom.css" />
    <link rel="stylesheet" type="text/css" href="../css/messagebox.css" />
    <link rel="stylesheet" type="text/css" href="../css/bootstrap.css" />
    <link rel="stylesheet" type="text/css" href="../css/legend.css" />
    <link rel="stylesheet" type="text/css" href="../css/main.css" />

    <link rel="stylesheet" href="../../ui/libs/leaflet-gesture-handling/leaflet-gesture-handling.min.css" type="text/css">

    <!--========================================================================= -->
    <style>
        .disable-select {
            user-select: none;
            /* supported by Chrome and Opera */
            -webkit-user-select: none;
            /* Safari */
            -khtml-user-select: none;
            /* Konqueror HTML */
            -moz-user-select: none;
            /* Firefox */
            -ms-user-select: none;
            /* Internet Explorer/Edge */
        }

    </style>

    <style>
        @-webkit-keyframes leaflet-gestures-fadein {
            0% {
                opacity: 0
            }

            100% {
                opacity: 1
            }
        }

        @keyframes leaflet-gestures-fadein {
            0% {
                opacity: 0
            }

            100% {
                opacity: 1
            }
        }

        .leaflet-container:after {
            -webkit-animation: leaflet-gestures-fadein .1s backwards;
            animation: leaflet-gestures-fadein .1s backwards;
            color: #aaa;
            font-family: Roboto, Arial, sans-serif;
            font-size: 22px;
            -webkit-box-pack: center;
            -ms-flex-pack: center;
            justify-content: center;
            display: -webkit-box;
            display: -ms-flexbox;
            display: flex;
            -webkit-box-align: center;
            -ms-flex-align: center;
            align-items: center;
            padding: 15px;
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(255, 255, 255, .2);
            z-index: 99999;
            pointer-events: none
        }

        .leaflet-gesture-handling-scroll-warning:after,
        .leaflet-gesture-handling-touch-warning:after {
            -webkit-animation: leaflet-gestures-fadein .1s forwards;
            animation: leaflet-gestures-fadein .1s forwards
        }

        .leaflet-gesture-handling-touch-warning:after {
            content: attr(data-gesture-handling-touch-content)
        }

        .leaflet-gesture-handling-scroll-warning:after {
            content: attr(data-gesture-handling-scroll-content)
        }

    </style>

    <!--========================================================================= -->

</head>

<body style="margin:0px;padding:0px;overflow:hidden;">

    <!-- header -->
    <div id="map-header" class="map-header" style="margin-left:2px;z-index:1000;display:none;">
    </div>

    <!--========================================================================= 
		the map space
	<!--========================================================================= -->

    <div id="ixmap" style="position:relative;top:0px;left:0px;overflow:hidden;font-size:11px;background:none;">

        <div id="onmapbuttondiv" style="position:absolute;top:13px;left:10px;opacity:0.95;width:0px;line-height:30px;display:none;z-index:1000">

            <button type="button" id="opensidebarbutton" title="open sidebar" class="toolbutton shadow" style="height:40px;width:40px;display:none">
                <label for="opensidebarbutton" style="height:36px;">
                    <img id="opensidebarbuttonicon" src="../resources/images/list-grey.png" style="height:24px;margin-left:-8px;margin-right:-4px;opacity:0.8" />
                </label>
            </button>

            <button type="button" id="switchmodebutton" title="info/pan" class="toolbutton shadow" style="height:40px;width:40px;display:none;">
                <label for="switchmodebutton" style="height:36px;">
                    <img id="switchmodebuttonicon" src="../resources/images/mano.png" style="height:24px;margin-left:-5px;margin-right:0px;" />
                </label>
            </button>

            <button type="button" id="switchtoolsbutton" title="show toolbar" class="toolbutton shadow" style="height:40px;width:40px;display:none;">
                <label for="switchtoolsbutton" style="height:36px;">
                    <img id="switchmodebuttonicon" src="../resources/images/gear_empty.png" style="height:24px;margin-left:-5px;margin-right:-4px;" />
                </label>
            </button>

            <button type="button" id="switchsearchbutton" title="show searchbar" class="toolbutton shadow" style="height:40px;width:40px;display:none;vertical-align:-4px;">
                <label for="switchsearchbutton" style="height:36px;">
                    <img id="switchsearchbuttonicon" src="../resources/images/search.png" style="height:29px;margin-left:-3px;margin-top:2px;opacity:0.6" />
                </label>
            </button>

            <button type="button" id="switchhelpbutton" title="show searchbar" class="toolbutton shadow" style="height:40px;width:40px;display:none;vertical-align:-4px;">
                <label for="switchhelpbutton" style="height:36px;">
                    <img id="switchhelpbuttonicon" src="../resources/images/info_gray.png" style="height:29px;margin-left:-5px;margin-top:2px;opacity:0.6" />
                </label>
            </button>

            <button type="button" id="switchinfobutton" title="end info window mode" class="toolbutton shadow" style="height:40px;width:40px;display:none;">
                <label for="switchinfobutton" style="height:36px;">
                    <img id="switchinfobuttonicon" src="../resources/images/info_window.png" style="height:24px;margin-left:-2px;margin-top:5px;" /><span style="position:relative;top:-33px;right:-12px">&nbsp;x</span>
                </label>
            </button>

            <button type="button" id="switchsplitterbutton" title="end info window mode" class="toolbutton shadow" style="height:40px;width:40px;display:none;">
                <label for="switchsplitterbutton" style="height:36px;">
                    <img id="switchsplitterbuttonicon" src="../resources/images/splitter.png" style="height:24px;margin-left:-5px;margin-right:-4px;" />
                </label>
            </button>



            <span id="embedlogo" style="vertical-align:-2px;margin-left:5px;display:none;">
                <img id="logo" src="../resources/images/ixmaps_logo_grey_transparent.png" height="20px">
            </span>

        </div>

        <div class="search-container" style="position:absolute;top:11px;left:98px;z-index:999999;display:none;width:0;">
            <input class="search-box" type="text" placeholder="trova ..." style="height:24px;padding:7px;" />
        </div>
        <div class="result-list"></div>

        <div id="onmapbuttondivbottom" style="position:absolute;bottom:30px;right:10px;display:inline;opacity:0.95;z-index:999;display:none">

            <button type="button" id="switchlegendbutton" title="switch legend display" style="height:40px;width:40px;display:none;">
                <label for="switchlegendbutton" style="height:36px;">
                    <img id="switchlegendbuttonicon" src="../resources/images/dialog_gray.png" style="height:28px;margin-top:3px;margin-left:-4px;opacity:0.8" />
                </label>
            </button>

        </div>

        <div id="onmapbuttondivzoom" style="position:absolute;bottom:12px;left:10px;z-index:100000;display:inline;">
            <a href="javascript:ixmaps.zoomIn()" style="text-decoration:none">
                <div style="padding:1em 1.15em;background-color:rgba(255,255,255,1);border:solid black 0.1px;border-radius:0.5em;">
                    <i class="icon icon-context icon-plus" title="Layer" tabindex="-1" style="font-size:0.9em;color:#aaaaaa"></i>
                </div>
            </a>
            <div style="height:0.2em"></div>
            <a href="javascript:ixmaps.zoomOut()" style="text-decoration:none">
                <div style="padding:1em 1.15em;background-color:rgba(255,255,255,1);border:solid black 0.1px;border-radius:0.5em;">
                    <i class="icon icon-context icon-minus" title="Layer" tabindex="-1" style="font-size:0.9em;color:#aaaaaa"></i>
                </div>
            </a>
        </div>



        <!-- title -->
        <div id="title" class="title-field" style="width:100%;z-index:1000;display:none;">
        </div>

        <!-- legend -->
        <div id="map-legend" class="map-legend disable-select" style="z-index:1000;display:none;">
        </div>

        <!-- overlay -->
        <div id="map-overlay" class="map-overlay" style="z-index:1000;display:none;">
        </div>

        <!-- popup -->
        <div id="map-popup" class="map-overlay" style="z-index:100000;display:none;">
        </div>

        <!-- fullscreen button -->
        <div id="map-popout-button" class="map-overlay" style="position:absolut;top:93%;right:10px;z-index:100000;display:none;">
            <div style="padding:0.5em;background-color:rgba(255,255,255,0.7);border:solid black 0.1px;border-radius:0.5em;">
                <a href="javascript:ixmaps.popOutEmbed()" style="text-decoration:none"><i class="icon icon-context icon-enlarge2" title="Layer" tabindex="-1" style="font-size:2em;color:#888888"></i></a>
            </div>

        </div>

    </div>

    <!-- footer -->
    <div id="map-footer" class="map-footer" style="margin-left:2px;z-index:1000;display:none;">
        <a href="http://ixmaps.com" target="_blank">powered by iXmaps </a> |
        <a href="javascript:ixmaps.popupShare()">share this map</a> |
        <a href="javascript:ixmaps.popOutEmbed()">view fullscreen</a>
    </div>

    <!--========================================================================= 
		loading, messages, help etc
	<!--========================================================================= -->

    <div id="divlogo" style="pointer-events:none;z-index:99;visibility:hidden;">
        <div id="logo-image">
            <span>application:</span>
            <img alt="logo" src="../resources/images/ixmaps_logo_grey_transparent.png" />
        </div>
    </div>

    <div id="divloading" style="pointer-events:none;z-index:9999">
        <div id="loading-text-div" class="loading-text-div">
            <span id="loading-text" class="loading-text">.&nbsp;&nbsp;</span>
            <div id="loading-gif" style="display:none">
                <img src="../resources/images/loading_blue.gif" />
            </div>
        </div>
    </div>

    <div id="attribution-div">
        <span id="attribution"></span>
        <span>|</span>
        <span class="map-footer"><a href="javascript:ixmaps.popupTools()">tools</a></span>
    </div>

    <div id="divstart" style="	visibility:hidden;
								position:absolute;
								top:0px;
								left:0px;
								width:100%;
								height:100%;
								z-index:1000;">
        <div id="start-text-div" style="position:absolute;top:45%;left:40%">
            <a id="start-text" href="javascript:__startMap()" style="font-family:serif;
								font-size:48px;
								color:#666666;
								background-color:#dddddd;
								padding: 0px 12px 3px 8px;
								-moz-border-radius: 15px;
								border-radius: 15px;
								text-align:center">start</a>
            </p>
        </div>
    </div>
    <div id="velo" style="	visibility:hidden;
								background-color:#444444;
								opacity:0.2;
								position:absolute;
								top:0px;
								left:0px;
								width:100%;
								height:100%;
								z-index:1000;" width="100%" height="100%">
    </div>

    <!--========================================================================= 
		overlay divs for help, tools, etc.
	<!--========================================================================= -->

    <div id="help" style="visibility:hidden">
    </div>
    <div id="dialog" style="visibility:hidden">
    </div>
    <div id="legend" style="visibility:hidden">
    </div>
    <div id="sidebar" style="visibility:hidden">
    </div>
    <div id="projects" style="visibility:hidden;">
    </div>

    <div id="tooltip" style="position:absolute;top:0;left:0;z-index:999999">
    </div>

    <!--========================================================================= 
		context menu
	<!--========================================================================= -->

    <div id="contextmenu" class="contextmenu" style="display:none;" onmouseover="__contextmenuOver($(this))" onmouseout="__contextmenuOut($(this))" onclick="__contextmenuOut($(this))">
        <ul class="dropdown-menu" style="display:inline;padding-bottom:0.5em">

            <li><a href="http://www.ixmaps.com" target="_blank" style="margin-top:0.2em;margin-bottom:0.2em;border:0;color:#ccc">iXmaps</a></li>

            <li><a href="javascript:ixmaps.popupTools()">
                    <i class="icon icon-context icon-cog" title="Layer" tabindex="-1" style="margin-left:0.2em"></i>
                    &nbsp;open tools</a></li>
            <li><a href="javascript:ixmaps.popupThemeEditor()">
                    <i class="icon icon-context icon-pencil" title="Layer" tabindex="-1" style="margin-left:0.2em"></i>
                    &nbsp;edit theme</a></li>
            <li><a href="javascript:ixmaps.popupThemeConfigurator()">
                    <i class="icon icon-context icon-menu" title="Layer" tabindex="-1" style="margin-left:0.2em"></i>
                    &nbsp;config theme</a></li>
            <li><a href="javascript:ixmaps.popupThemeFacets()">
                    <i class="icon icon-context icon-filter" title="Layer" tabindex="-1" style="margin-left:0.2em"></i>
                    &nbsp;filter theme</a></li>
            <li><a href="javascript:ixmaps.popupShare()">
                    <i class="icon icon-context icon-share2" title="Layer" tabindex="-1" style="margin-left:0.2em"></i>
                    &nbsp;share map</a></li>

            <li class="contextmenu-separator"></li>

            <li><a href="javascript:ixmaps.popOutView()">
                    <i class="icon icon-context icon-share" title="Layer" tabindex="-1" style="margin-left:0.2em"></i>
                    &nbsp;open in viewer</a></li>
            <li><a href="javascript:ixmaps.popOutEdit()">
                    <i class="icon icon-context icon-share" title="Layer" tabindex="-1" style="margin-left:0.2em"></i>
                    &nbsp;open in editor</a></li>
            <li><a href="javascript:ixmaps.popOutProject()">
                    <i class="icon icon-context icon-share" title="Layer" tabindex="-1" style="margin-left:0.2em"></i>
                    &nbsp;explore project</a></li>

            <li class="contextmenu-separator"></li>

            <li><a href="javascript:ixmaps.copyThemeToClipboard()">
                    <i class="icon icon-context icon-scissors" title="Layer" tabindex="-1" style="margin-left:0.2em"></i>
                    &nbsp;copy theme</a></li>
            <li><a href="javascript:ixmaps.pasteThemeFromClipboard()">
                    <i class="icon icon-context icon-paste" title="Layer" tabindex="-1" style="margin-left:0.2em"></i>
                    &nbsp;paste theme</a></li>

            <li class="contextmenu-separator"></li>

            <li><a href="javascript:ixmaps.popupProject()">
                    <i class="icon icon-context icon-download" title="Layer" tabindex="-1" style="margin-left:0.2em"></i>
                    &nbsp;save project</a></li>

        </ul>
        </ul>
        </ul>
        </ul>
        <a href="#" style="border:0"></a>
    </div>


    <!--========================================================================= -->
</body>

<!--========================================================================= -->

<script src="../../ui/libs/jquery/jquery-1.7.1.min.js"></script>
<script src="../../ui/libs/jquery/ui/js/jquery-ui-1.8.16.custom.min.js"></script>

<script src="../libs/getUrlParam/js/jquery.getUrlParam.js"></script>
<script src="../libs/modernizr/js/testsvg.js"></script>
<script src="../libs/messagebox.js"></script>

<script type="text/javascript" src="../js/htmlgui.js"></script>
<script type="text/javascript" src="../js/htmlgui_sync.js"></script>
<script type="text/javascript" src="../js/htmlgui_sync_Leaflet.js"></script>
<script type="text/javascript" src="../js/htmlgui_dialog.js"></script>
<script type="text/javascript" src="../js/htmlgui_story.js"></script>

<!--========================================================================= -->

<script src="../../ui/libs/leaflet-1.3.4/leaflet.js"></script>

<script src="../../ui/libs/leaflet-gesture-handling/leaflet-gesture-handling.min.js"></script>

<!--========================================================================= -->

<script src="https://unpkg.com/topojson-client@3.1.0/dist/topojson-client.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/proj4js/2.7.5/proj4.min.js"></script>
<script src="https://cdn.rawgit.com/dcodeIO/protobuf.js/6.11.3/dist/protobuf.js"></script>

<script src="https://unpkg.com/fzstd"></script>
<script src="https://cdn.jsdelivr.net/npm/fzstd/umd/index.js"></script>
<!--========================================================================= -->

<div id="SVG-MAP">
</div>

<script type="text/javascript">
    (function(ixmaps, $, undefined) {

        theme = {
            "layer": "generic",
            "data": {
                "url": "https://gisco-services.ec.europa.eu/distribution/v2/nuts/geojson/NUTS_RG_10M_2021_4326_LEVL_0.geojson",
                "type": "geojson",
                "name": "datatable"
            },
            "binding": {
                "geo": "geometry"
            },
            "style": {
                "type": "FEATURES|NOLEGEND",
                "colorscheme": [
                    "rgba(255,255,255,0.5)"
                ],
                "fillopacity": "0.9",
                "linecolor": "orange",
                "linewidth": "1",
                "showdata": true,
                "name": "nuts0"
            }
        };

        $(document).ready(function() {

            $("#SVG-MAP").load("./mercator.svg");

            $.when(
                $.getScript("../../maps/svg/js/mapscript.js"),
                $.Deferred(function(deferred) {
                    $(deferred.resolve);
                })
            ).done(function() {

                ixmaps.onMapReady = function(szName) {
                    ixmaps.newTheme("test", theme, "clear");
                }

                setTimeout("initAll()",100);

            });

        });





    }(window.ixmaps = window.ixmaps || {}, jQuery));

</script>

</html>
